<ng-container>
  <form [formGroup]="operationForm">
    <error-message message="les champs debit et credit ne peuvent pas tre a 0 en mÃªme temps"
      *ngIf="!isCreditAndDebitValide"></error-message>
    <ion-item>
      <ion-label for="num-trans" position="stacked">Numero Transaction: </ion-label>
      <ion-input id="num-trans" type="text" formControlName="numTrans" readonly></ion-input>
    </ion-item>

    <ion-item>
      <ion-label for="time" position="stacked">Time :</ion-label>
      <ion-input id="time" type="text" formControlName="time">
      </ion-input>

      <ion-button id="open-modal" fill="clear" slot="end">
        <ion-icon slot="icon-only" name="calendar-outline"></ion-icon>
      </ion-button>

    </ion-item>

    <ng-container *ngFor="let validation of validation_messages['time']">
      <error-message [message]="validation.message" *ngIf="isError('time',validation.type)"></error-message>
    </ng-container>

    <ion-item>
      <ion-label for="statut" position="floating">Statut: </ion-label>
      <ion-input id="statut" type="text" formControlName="statut"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label for="description" position="stacked">Description: </ion-label>
      <ion-input id="description" type="text" formControlName="description" class="form-controll"></ion-input>
    </ion-item>

    <ion-item id="open-leaf">
      <ion-label for="transferToDiv" position="stacked">Transfer to: </ion-label>
      <div id="transferToDiv">

        <ion-input class="transInput" type="text" readonly [value]="defaultTransferTo?.acountName" slot="start">
        </ion-input>
        <ion-button fill="clear" slot="end">
          <ion-icon slot="end" name="list-outline"></ion-icon>
        </ion-button>
      </div>

    </ion-item>

    <ion-item>
      <ion-label class="capitelize" for="debit"
        position="stacked">{{'forms.operation.'+accountType+'.debit' | translate}}: </ion-label>
      <number-input id="debit" [precision]="2" [amount]="'0'" formControlName="debit" [formGroup]="operationForm"
        (amountEntered)="debitChanged($event)" ngDefaultControl></number-input>
    </ion-item>
    <ng-container *ngFor="let validation of validation_messages['debit']">
      <error-message [message]="validation.message" *ngIf="isError('debit',validation.type)"></error-message>
    </ng-container>

    <ion-item>
      <ion-label class="capitelize" for="credit"
        position="stacked">{{'forms.operation.'+accountType+'.credit' | translate}}: </ion-label>
      <number-input id="credit" [precision]="2" [amount]="'0'" formControlName="credit" [formGroup]="operationForm"
        (amountEntered)="creditChanged($event)" ngDefaultControl></number-input>
    </ion-item>

    <ng-container *ngFor="let validation of validation_messages['credit']">
      <error-message [message]="validation.message" *ngIf="isError('credit',validation.type)"></error-message>
    </ng-container>
  </form>

  <ion-modal trigger="open-modal">
    <ng-template>

      <ion-content class="ion-padding">
        <ion-datetime #datetime [showDefaultButtons]="true" (ionCancel)="cancel()"
          [value]="operation.time | dateHissab  " (ionChange)="onDateChange(datetime.value)"></ion-datetime>
      </ion-content>
    </ng-template>
  </ion-modal>


  <ion-modal #modal trigger="open-leaf" [initialBreakpoint]="0.75" [breakpoints]="[ 0.75]" [backdropBreakpoint]="0.75">
    <ng-template>

      <ion-content class="ion-padding">
        <ion-toolbar>
          <ion-title>Modal</ion-title>
          <ion-buttons slot="end">
            <ion-button color="light" (click)="modal.dismiss()">Close</ion-button>
          </ion-buttons>
        </ion-toolbar>
        <ion-searchbar placeholder="Search" (click)="modal.setCurrentBreakpoint(0.75)"></ion-searchbar>
        <ion-list>
          <ion-radio-group [allowEmptySelection]="true" [value]="defaultTransferTo?defaultTransferTo.id:-5"
            (ionChange)="onTransferToChange($event)">
            <ion-item *ngFor="let item of leafsAccount">
              <div>
                <ion-label>{{item.acountName}}</ion-label>
                <ion-label>{{item.path}}</ion-label>
              </div>

              <ion-radio slot="end" [value]="item.id"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>

</ng-container>